{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/Points.js","webpack:///./src/js/app.js"],"names":["generateSprite","canvas","document","createElement","width","height","context","getContext","gradient","createRadialGradient","addColorStop","fillStyle","fillRect","texture","THREE","needsUpdate","Points","geom","material","color","size","vertexColors","transparent","blending","map","depthWrite","cloud","sortParticles","window","addEventListener","event","isDown","renderer","setSize","innerWidth","innerHeight","camera","aspect","updateProjectionMatrix","init","run","startTime","scene","geometry","materialPoint","points","controls","axesHelper","SIZE","LONG_SIZE","SCENE_PARAM","fogColor","fogNear","fogFar","CAMERA_PARAM","fovy","near","far","x","y","z","lookAt","RENDERER_PARAM","clearColor","fog","setClearColor","wrapper","querySelector","appendChild","domElement","position","set","COUNT","i","Math","random","point","velocityZ","theta","PI","rotation","vertices","push","colors","add","OrbitControls","Date","now","render","nowTime","forEach","v","cos","sin","verticesNeedUpdate","requestAnimationFrame"],"mappings":"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","file":"js/app.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"js/app.js\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./src/js/app.js\",\"/js/vendor.js\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import * as THREE from \"three\";\n\nfunction generateSprite() {\n  var canvas = document.createElement(\"canvas\");\n  canvas.width = 64;\n  canvas.height = 64;\n\n  var context = canvas.getContext(\"2d\");\n  var gradient = context.createRadialGradient(\n    // 中の円と外の円の大きさと半径の長さを設定する\n    canvas.width / 2,\n    canvas.height / 2,\n    0,\n    canvas.width / 2,\n    canvas.height / 2,\n    canvas.width / 2\n  );\n  // gradient.addColorStop(0, \"rgba(255,255,255,1)\");\n  // gradient.addColorStop(0.2, \"rgba(0,255,255,1)\");\n  // gradient.addColorStop(0.4, \"rgba(0,0,64,1)\");\n  // gradient.addColorStop(1, \"rgba(0,0,0,1)\");\n  // gradient.addColorStop(0, \"rgba(255,255,255,0.8)\");\n  gradient.addColorStop(0.2, \"rgba(255,255,255,0.8)\");\n  gradient.addColorStop(0.4, \"rgba(255,255,255,0.8)\");\n  gradient.addColorStop(1, \"rgba(0,0,0,1)\");\n\n  context.fillStyle = gradient;\n  context.fillRect(0, 0, canvas.width, canvas.height);\n\n  var texture = new THREE.Texture(canvas);\n  texture.needsUpdate = true;\n  return texture;\n}\n\n// メッシュを作成\nfunction Points(geom) {\n  var material = new THREE.PointsMaterial({\n    color: 0xffffff,\n    size: 0.08,\n    vertexColors: true,\n    transparent: true,\n    blending: THREE.AdditiveBlending,\n    map: generateSprite(), //テクスチャ\n    depthWrite: false,\n  });\n  var cloud = new THREE.Points(geom, material);\n  cloud.sortParticles = true;\n  return cloud;\n}\n\nexport { Points };\n","\"use strict\";\nimport * as THREE from \"three\";\nimport { Points } from \"./Points\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\nimport { BufferGeometryLoader } from \"three\";\n(() => {\n  window.addEventListener(\n    \"DOMContentLoaded\",\n    () => {\n      // キーダウンイベントの定義\n      // window.addEventListener(\n      //   \"keydown\",\n      //   (event) => {\n      //     switch (event.key) {\n      //       case \"Escape\":\n      //         run = event.key !== \"Escape\";\n      //         break;\n      //       case \" \":\n      //         isDown = true;\n      //         break;\n      //       default:\n      //     }\n      //   },\n      //   false\n      // );\n      window.addEventListener(\n        \"keyup\",\n        (event) => {\n          isDown = false;\n        },\n        false\n      );\n\n      // リサイズイベントの定義\n      window.addEventListener(\n        \"resize\",\n        () => {\n          renderer.setSize(window.innerWidth, window.innerHeight);\n          camera.aspect = window.innerWidth / window.innerHeight;\n          camera.updateProjectionMatrix();\n        },\n        false\n      );\n\n      // window.addEventListener(\n      //   \"mousemove\",\n      //   (event) => {\n      //     const delay = 20;\n      //     let x = event.clientX / window.innerWidth;\n      //     let y = event.clientY / window.innerHeight;\n      //     x = x * 2.0 - 1.0; // -1 ~ 1\n      //     y = y * 2.0 - 1.0; // -1 ~ 1\n      //     // x = x - 0.5;\n      //     // y = y - 0.5;\n      //     const mouseMoveCamera = new THREE.Vector2(x, y);\n      //     // const nv = mouseMoveCamera.normalize(); // 単位化 normalized vector\n      //     camera.position.x = mouseMoveCamera.x / 2; // カメラの移動する範囲を2分の1に\n      //     camera.position.y = -mouseMoveCamera.y / 2;\n      //     // camera.position.x += (x - camera.position.x) / delay;\n      //     // camera.position.y += (-y - camera.position.y) / delay;\n      //     camera.updateProjectionMatrix();\n      //   },\n      //   false\n      // );\n\n      // 初期化処理\n      init();\n    },\n    false\n  );\n\n  // 汎用変数\n  let run = true; // レンダリングループフラグ\n  let isDown = false; // スペースキーが押されているかどうかのフラグ\n  let startTime = 0;\n\n  // three.js に関連するオブジェクト用の変数\n  let scene; // シーン\n  let camera; // カメラ\n  let renderer; // レンダラ\n  let geometry; // ジオメトリ\n  let materialPoint; // マテリアル\n  let points; // パーティクル\n  let controls; // カメラコントロール\n  let axesHelper; // 軸ヘルパーメッシュ\n  let texture;\n  const SIZE = 1.0; // どの程度の範囲に配置するかのサイズ\n  const LONG_SIZE = SIZE * 10.0;\n\n  const SCENE_PARAM = {\n    fogColor: 0x000000, // フォグの色\n    fogNear: 0, // フォグの掛かり始めるカメラからの距離\n    fogFar: 15.0, // フォグが完全に掛かるカメラからの距離\n  };\n\n  // カメラに関するパラメータ\n  const CAMERA_PARAM = {\n    fovy: 60,\n    aspect: window.innerWidth / window.innerHeight,\n    near: 0.1,\n    far: 100.0,\n    x: 0.0,\n    y: 0.0,\n    z: 10.0,\n    lookAt: new THREE.Vector3(0.0, 0.0, 0.0),\n  };\n  // レンダラに関するパラメータ\n  const RENDERER_PARAM = {\n    clearColor: 0,\n    width: window.innerWidth,\n    height: window.innerHeight,\n  };\n\n  function init() {\n    // シーン\n    scene = new THREE.Scene();\n    scene.fog = new THREE.Fog(\n      SCENE_PARAM.fogColor,\n      SCENE_PARAM.fogNear,\n      SCENE_PARAM.fogFar\n    );\n\n    // レンダラ\n    renderer = new THREE.WebGLRenderer();\n    renderer.setClearColor(new THREE.Color(RENDERER_PARAM.clearColor));\n    renderer.setSize(RENDERER_PARAM.width, RENDERER_PARAM.height);\n    const wrapper = document.querySelector(\"#webgl\");\n    wrapper.appendChild(renderer.domElement);\n\n    // カメラ\n    camera = new THREE.PerspectiveCamera(\n      CAMERA_PARAM.fovy,\n      CAMERA_PARAM.aspect,\n      CAMERA_PARAM.near,\n      CAMERA_PARAM.far\n    );\n    camera.position.set(CAMERA_PARAM.x, CAMERA_PARAM.y, CAMERA_PARAM.z);\n    camera.lookAt(CAMERA_PARAM.lookAt);\n\n    // materialPoint = new THREE.PointsMaterial(MATERIAL_PARAM_POINT);\n    // materialPoint.map = knot;\n\n    // パーティクルの定義 @@@\n    geometry = new THREE.Geometry(); // 特定の形状を持たない素体ジオメトリ\n\n    const COUNT = 2000; // パーティクルの純粋な個数\n\n    for (let i = 0; i <= COUNT; ++i) {\n      // Math.random は 0 以上 1 未満の数値をランダムで返す\n      // const x = (Math.random() - 0.5) * 2.0 * SIZE;\n      // const y = (Math.random() - 0.5) * 2.0 * SIZE;\n      // const z = (Math.random() - 0.5) * 2.0 * SIZE;\n      const x = 0;\n      const y = 0;\n      const z = (Math.random() - 0.5) * 2.0 * LONG_SIZE;\n\n      const point = new THREE.Vector3(x, y, z);\n\n      point.velocityZ = Math.random();\n      point.theta = 2 * Math.PI * Math.random();\n      point.rotation = (Math.random() - 0.5) * 2.0;\n      geometry.vertices.push(point);\n      geometry.colors.push(new THREE.Color(Math.random() * 0x00ffff));\n    }\n\n    points = Points(geometry);\n    // シーンにパーティクルを追加\n    scene.add(points);\n\n    // 軸ヘルパー\n    // axesHelper = new THREE.AxesHelper(5.0);\n    // scene.add(axesHelper);\n\n    // コントロール\n    controls = new OrbitControls(camera, renderer.domElement);\n\n    // すべての初期化が完了したら描画を開始する\n    run = true;\n    startTime = Date.now();\n    render();\n  }\n\n  function render() {\n    // 再帰呼び出し\n    if (run === true) {\n      var vertices = points.geometry.vertices;\n      const nowTime = (Date.now() - startTime) / 1000;\n      vertices.forEach(function (v) {\n        v.z = v.z + v.velocityZ * 0.05;\n        v.theta += v.rotation * 0.01;\n        v.x = Math.cos(v.theta);\n        v.y = Math.sin(v.theta);\n        if (v.z >= LONG_SIZE) v.z = -LONG_SIZE;\n      });\n\n      points.geometry.verticesNeedUpdate = true;\n\n      points.rotation.z = nowTime * 0.005;\n      requestAnimationFrame(render);\n    }\n    renderer.render(scene, camera);\n  }\n})();\n"],"sourceRoot":""}